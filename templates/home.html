{%extends 'layout.html'%} {%block body %}

<h1>Book Inventory</h1>

<h2>Genres</h2>
<ul>
  {% for genre in genres %}
  <li>
    <a href="{{ url_for('view_genre', genre_id=genre.id) }}"
      >{{ genre.name }}</a
    >
    <a href="{{ url_for('edit_genre', genre_id=genre.id) }}">Edit</a>
    <form
      action="{{ url_for('delete_genre', genre_id=genre.id) }}"
      method="POST"
      style="display: inline"
    >
      <button type="submit">Delete</button>
    </form>
  </li>
  {% endfor %}
</ul>

<!-- Form to create a new genre -->
<form action="{{ url_for('add_genre') }}" method="POST">
  <input type="text" name="name" placeholder="New Genre" />
  <button type="submit">Add Genre</button>
</form>

<hr />

<!-- Form to create a new book -->
<h2>Add New Book</h2>
<form action="{{ url_for('add_book') }}" method="POST">
  <input type="text" name="title" placeholder="Title" required />
  <input type="text" name="author" placeholder="Author" required />
  <input type="number" name="stock" placeholder="Stock" min="0" />
  <select name="genre_id" required>
    {% for genre in genres %}
    <option value="{{ genre.id }}">{{ genre.name }}</option>
    {% endfor %}
  </select>
  <button type="submit">Add Book</button>
</form>

{% endblock%}
